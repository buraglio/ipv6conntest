<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPv6 Connectivity Test</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2364ffda'/%3E%3Cstop offset='100%25' style='stop-color:%233dd68c'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpolygon points='50,15 70,27.5 70,52.5 50,65 30,52.5 30,27.5' fill='none' stroke='url(%23g)' stroke-width='3'/%3E%3Ccircle cx='50' cy='10' r='4' fill='url(%23g)'/%3E%3Ccircle cx='75' cy='25' r='4' fill='url(%23g)'/%3E%3Ccircle cx='75' cy='55' r='4' fill='url(%23g)'/%3E%3Ccircle cx='50' cy='70' r='4' fill='url(%23g)'/%3E%3Ccircle cx='25' cy='55' r='4' fill='url(%23g)'/%3E%3Ccircle cx='25' cy='25' r='4' fill='url(%23g)'/%3E%3C/svg%3E">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-logo">
                <img src="IPv6 Army Watermark-small.png" alt="IPv6 Army Logo" />
            </div>
            <h1>IPv6 Connectivity Test</h1>
            <p class="subtitle">Check your IPv4 and IPv6 connectivity status</p>
        </header>

        <main>
            <!-- Overall Score Section - MOVED TO TOP -->
            <section class="card" id="overall-score">
                <h2>Overall Readiness</h2>
                <div class="score-container">
                    <div class="score-circle">
                        <span class="score-value" id="score-value">--</span>
                        <span class="score-label">/ 10</span>
                    </div>
                    <div class="score-message">
                        <p id="score-message">Running tests...</p>
                    </div>
                </div>
            </section>
            <!-- IP Address Information Section -->
            <section class="card" id="ip-info">
                <h2>Your IP Addresses</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">IPv4 Address:</span>
                        <span class="value" id="ipv4-address">Detecting...</span>
                    </div>
                    <div class="info-item">
                        <span class="label">IPv6 Address:</span>
                        <span class="value" id="ipv6-address">Detecting...</span>
                    </div>
                    <div class="info-item">
                        <span class="label">ISP (IPv4):</span>
                        <span class="value" id="ipv4-isp">Detecting...</span>
                    </div>
                    <div class="info-item">
                        <span class="label">ISP (IPv6):</span>
                        <span class="value" id="ipv6-isp">Detecting...</span>
                    </div>
                </div>
            </section>

            <!-- Connectivity Status Section -->
            <section class="card" id="connectivity-status">
                <h2>Connectivity Status</h2>
                <div class="status-grid">
                    <div class="status-item" id="ipv4-status">
                        <div class="status-indicator pending"></div>
                        <span class="status-label">IPv4 Connectivity</span>
                        <span class="status-result">Testing...</span>
                    </div>
                    <div class="status-item" id="ipv6-status">
                        <div class="status-indicator pending"></div>
                        <span class="status-label">IPv6 Connectivity</span>
                        <span class="status-result">Testing...</span>
                    </div>
                </div>
            </section>

            <!-- Detailed Tests Section -->
            <section class="card" id="detailed-tests">
                <h2>Detailed Connectivity Tests</h2>
                <div class="test-list">
                    <div class="test-item expandable" id="test-ipv4-dns">
                        <div class="test-main">
                            <div class="test-indicator pending"></div>
                            <div class="test-content">
                                <span class="test-name">IPv4-only DNS Resolution</span>
                                <span class="test-description">Testing access to IPv4-only resources</span>
                            </div>
                            <span class="test-status">Pending</span>
                            <button class="expand-btn" aria-label="Show details">▼</button>
                        </div>
                        <div class="test-details">
                            <p><strong>What this tests:</strong> This test verifies that your system can resolve and connect to servers that only have IPv4 addresses (no IPv6).</p>
                            <p><strong>Endpoint:</strong> <code>ipv4.google.com</code></p>
                            <p><strong>Result:</strong> <span class="detail-result">Not tested yet</span></p>
                            <p><strong>Time:</strong> <span class="detail-time">--</span></p>
                        </div>
                    </div>
                    <div class="test-item expandable" id="test-ipv6-dns">
                        <div class="test-main">
                            <div class="test-indicator pending"></div>
                            <div class="test-content">
                                <span class="test-name">IPv6-only DNS Resolution</span>
                                <span class="test-description">Testing access to IPv6-only resources</span>
                            </div>
                            <span class="test-status">Pending</span>
                            <button class="expand-btn" aria-label="Show details">▼</button>
                        </div>
                        <div class="test-details">
                            <p><strong>What this tests:</strong> This test verifies that your system can resolve and connect to servers that only have IPv6 addresses (no IPv4).</p>
                            <p><strong>Endpoint:</strong> <code>ipv6.google.com</code></p>
                            <p><strong>Result:</strong> <span class="detail-result">Not tested yet</span></p>
                            <p><strong>Time:</strong> <span class="detail-time">--</span></p>
                        </div>
                    </div>
                    <div class="test-item expandable" id="test-dual-stack">
                        <div class="test-main">
                            <div class="test-indicator pending"></div>
                            <div class="test-content">
                                <span class="test-name">Dual Stack DNS Resolution</span>
                                <span class="test-description">Testing dual-stack capability</span>
                            </div>
                            <span class="test-status">Pending</span>
                            <button class="expand-btn" aria-label="Show details">▼</button>
                        </div>
                        <div class="test-details">
                            <p><strong>What this tests:</strong> This test verifies that your system can connect to servers that offer both IPv4 and IPv6 addresses and properly select the best protocol.</p>
                            <p><strong>Endpoint:</strong> <code>www.google.com</code></p>
                            <p><strong>Result:</strong> <span class="detail-result">Not tested yet</span></p>
                            <p><strong>Time:</strong> <span class="detail-time">--</span></p>
                        </div>
                    </div>
                    <div class="test-item expandable" id="test-ipv6-large">
                        <div class="test-main">
                            <div class="test-indicator pending"></div>
                            <div class="test-content">
                                <span class="test-name">IPv6 Large Packet Test</span>
                                <span class="test-description">Testing IPv6 MTU and fragmentation</span>
                            </div>
                            <span class="test-status">Pending</span>
                            <button class="expand-btn" aria-label="Show details">▼</button>
                        </div>
                        <div class="test-details">
                            <p><strong>What this tests:</strong> This test verifies that your IPv6 connection can handle larger packets and proper MTU negotiation.</p>
                            <p><strong>Endpoint:</strong> <code>ipv6.google.com</code></p>
                            <p><strong>Result:</strong> <span class="detail-result">Not tested yet</span></p>
                            <p><strong>Time:</strong> <span class="detail-time">--</span></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Other IPv6 Sites Section -->
            <section class="card" id="ipv6-sites">
                <h2>Other IPv6 Sites</h2>
                <p class="section-description">Test your ability to reach popular IPv6-enabled websites and services.</p>

                <div class="filter-controls">
                    <button class="filter-btn active" data-filter="all">All Sites</button>
                    <button class="filter-btn" data-filter="passed">Passed</button>
                    <button class="filter-btn" data-filter="failed">Failed</button>
                </div>

                <div class="sites-table-container">
                    <table class="sites-table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort="name">Site <span class="sort-indicator">↕</span></th>
                                <th class="sortable" data-sort="ipv4">IPv4 <span class="sort-indicator">↕</span></th>
                                <th class="sortable" data-sort="ipv6">IPv6 <span class="sort-indicator">↕</span></th>
                                <th>Latency Comparison</th>
                            </tr>
                        </thead>
                        <tbody id="sites-table-body">
                            <!-- Will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="sites-summary">
                    <p>
                        <span class="summary-label">IPv6 Sites Reachable:</span>
                        <span id="ipv6-sites-count" class="summary-value">-- / --</span>
                    </p>
                    <p>
                        <span class="summary-label">IPv4 Sites Reachable:</span>
                        <span id="ipv4-sites-count" class="summary-value">-- / --</span>
                    </p>
                </div>

                <button id="test-sites-btn" class="btn-secondary">Test All Sites</button>
            </section>

            <!-- Browser Information Section -->
            <section class="card" id="browser-info">
                <h2>Browser Information</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">User Agent:</span>
                        <span class="value" id="user-agent">--</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Platform:</span>
                        <span class="value" id="platform">--</span>
                    </div>
                </div>
            </section>

            <!-- Retest Button -->
            <div class="action-container">
                <button id="retest-btn" class="btn-primary">Run Tests Again</button>
            </div>
        </main>

        <footer>
            <p>IPv6 Connectivity Checker | Testing your network readiness for the modern internet</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
